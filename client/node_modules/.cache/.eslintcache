[{"/Users/weas1/Desktop/sound-minds-auth/client/src/index.js":"1","/Users/weas1/Desktop/sound-minds-auth/client/src/reportWebVitals.js":"2","/Users/weas1/Desktop/sound-minds-auth/client/src/App.js":"3","/Users/weas1/Desktop/sound-minds-auth/client/src/helpers/UserContext.js":"4","/Users/weas1/Desktop/sound-minds-auth/client/src/pages/Signup/Signup.js":"5","/Users/weas1/Desktop/sound-minds-auth/client/src/pages/Login/Login.js":"6","/Users/weas1/Desktop/sound-minds-auth/client/src/pages/Profile/Profile.js":"7","/Users/weas1/Desktop/sound-minds-auth/client/src/pages/SongDetails/SongDetails.js":"8","/Users/weas1/Desktop/sound-minds-auth/client/src/pages/Search/Search.js":"9","/Users/weas1/Desktop/sound-minds-auth/client/src/pages/Favorites/Favorites.js":"10","/Users/weas1/Desktop/sound-minds-auth/client/src/components/Nav/Nav.js":"11","/Users/weas1/Desktop/sound-minds-auth/client/src/components/Colors/Colors.js":"12"},{"size":449,"mtime":1637846811591,"results":"13","hashOfConfig":"14"},{"size":362,"mtime":1637840994825,"results":"15","hashOfConfig":"14"},{"size":3157,"mtime":1641064334622,"results":"16","hashOfConfig":"14"},{"size":145,"mtime":1637849308676,"results":"17","hashOfConfig":"14"},{"size":4086,"mtime":1641069696476,"results":"18","hashOfConfig":"14"},{"size":3711,"mtime":1641069658040,"results":"19","hashOfConfig":"14"},{"size":756,"mtime":1641069627519,"results":"20","hashOfConfig":"14"},{"size":4587,"mtime":1641074563120,"results":"21","hashOfConfig":"14"},{"size":3737,"mtime":1641074499439,"results":"22","hashOfConfig":"14"},{"size":152,"mtime":1641069679321,"results":"23","hashOfConfig":"14"},{"size":760,"mtime":1640627099167,"results":"24","hashOfConfig":"14"},{"size":382,"mtime":1640643883910,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"116mrlq",{"filePath":"29","messages":"30","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"31","messages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33","usedDeprecatedRules":"28"},{"filePath":"34","messages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"36","messages":"37","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"38","messages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"40","messages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"42","messages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44"},{"filePath":"45","messages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"49","messages":"50","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"51","messages":"52","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"/Users/weas1/Desktop/sound-minds-auth/client/src/index.js",[],["53","54"],"/Users/weas1/Desktop/sound-minds-auth/client/src/reportWebVitals.js",[],"/Users/weas1/Desktop/sound-minds-auth/client/src/App.js",["55"],"import \"./App.css\";\nimport { BrowserRouter, Route, Switch, Link } from \"react-router-dom\";\nimport Login from \"../src/pages/Login/Login\";\nimport Signup from \"../src/pages/Signup/Signup\";\nimport Search from \"../src/pages/Search/Search\";\nimport Favorites from \"../src/pages/Favorites/Favorites\";\nimport Profile from \"../src/pages/Profile/Profile\";\nimport SongDetails from \"../src/pages/SongDetails/SongDetails\";\n// eslint-disable-next-line\nimport Nav from \"./components/Nav/Nav\";\nimport UserContext from \"./helpers/UserContext\";\nimport star from \"./assets/star_icon.png\";\nimport logoutImg from \"./assets/logout_icon.png\";\nimport search from \"./assets/search_icon.png\";\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nfunction App() {\n  const [email, setEmail] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n\n  useEffect(() => {\n    axios\n      .get(\"http://localhost:5000/api/user\", { withCredentials: true })\n      .then((res) => {\n        setEmail(res.data.email);\n        setUsername(res.data.username);\n      });\n  }, []);\n\n  const logout = () => {\n    axios\n      .post(\"http://localhost:5000/api/logout\", {}, { withCredentials: true })\n      .then(() => {\n        setEmail(\"\");\n      });\n\n    window.location = \"/\";\n  };\n  return (\n    <UserContext.Provider value={{ username, setUsername, email, setEmail }}>\n      <BrowserRouter>\n        {/* {username && ( */}\n        <div>\n          <div className=\"nav\">\n            {\" \"}\n            <Link to=\"/search\">\n              <div className=\"search-nav\">\n                {\" \"}\n                <img\n                  className=\"icon search-icon\"\n                  src={search}\n                  alt=\"search icon\"\n                />\n              </div>\n            </Link>\n            <Link to=\"/profile\">\n              <div className=\"profile-nav\">\n                <div className=\"circle\">\n                  {username.substr(0, 1).toUpperCase()}\n                </div>\n              </div>\n            </Link>\n            <Link to=\"/favorites\">\n              <div className=\"favorites-nav\">\n                ðŸ”¥\n                {/* <img\n                  className=\"icon fav-icon\"\n                  src={star}\n                  alt=\"favorites icon\"\n                /> */}\n              </div>\n            </Link>\n            <Link to=\"\" onClick={() => logout()}>\n              <div className=\"logout-nav\">\n                {\" \"}\n                <img\n                  className=\"icon logout-icon\"\n                  src={logoutImg}\n                  alt=\"logout icon\"\n                />\n              </div>\n            </Link>\n          </div>\n        </div>\n        {/* )} */}\n\n        <Switch>\n          <Route exact path=\"/\" component={Signup} />\n          <Route exact path=\"/login\" component={Login} />\n          <Route exact path=\"/search\" component={Search} />\n          <Route exact path=\"/track/:trackId\" component={SongDetails} />\n          <Route exact path=\"/favorites\" component={Favorites} />\n          <Route exact path=\"/profile\" component={Profile} />\n        </Switch>\n      </BrowserRouter>\n    </UserContext.Provider>\n  );\n}\n\nexport default App;\n","/Users/weas1/Desktop/sound-minds-auth/client/src/helpers/UserContext.js",[],"/Users/weas1/Desktop/sound-minds-auth/client/src/pages/Signup/Signup.js",[],"/Users/weas1/Desktop/sound-minds-auth/client/src/pages/Login/Login.js",[],"/Users/weas1/Desktop/sound-minds-auth/client/src/pages/Profile/Profile.js",[],"/Users/weas1/Desktop/sound-minds-auth/client/src/pages/SongDetails/SongDetails.js",["56","57"],"import { useEffect, useState, useContext } from \"react\";\nimport Colors from \"../../components/Colors/Colors\";\nimport \"./song-details.css\";\nimport UserContext from \"../../helpers/UserContext\";\nimport axios from \"axios\";\n\nconst SongDetails = (props) => {\n  const [trackLoading, setTrackLoading] = useState(true);\n  let trackId = props.match.params.trackId;\n  const [track, setTrack] = useState();\n  const [trackTitle, setTrackTitle] = useState();\n  const [trackArtist, setTrackArtist] = useState();\n  const [trackCover, setTrackCover] = useState();\n  const [trackAlbum, setTrackAlbum] = useState();\n  const user = useContext(UserContext);\n  const [favorited, setFavorited] = useState(false);\n\n  const [favoriteCount, setFavoriteCount] = useState(0);\n\n  useEffect(() => {\n    fetch(\n      `https://thingproxy.freeboard.io/fetch/https://api.deezer.com/track/${trackId}`\n    )\n      .then((res) => res.json())\n      .then((res) => {\n        console.log(res);\n        setTrack(res);\n        setTrackTitle(res.title);\n        setTrackArtist(res.artist.name);\n        setTrackCover(res.album.cover);\n        setTrackAlbum(res.album.name);\n        document.title = `${res.title} - ${res.artist.name}`;\n        setTrackLoading(false);\n      });\n  }, []);\n  const trackInfo = {\n    favoritedBy: user.username,\n    trackId: trackId,\n    trackTitle: trackTitle,\n    trackArtist: trackArtist,\n    trackCover: trackCover,\n    trackAlbum: trackAlbum,\n  };\n\n  useEffect(() => {\n    axios\n      .post(\"http://localhost:5000/api/favoriteCount\", trackInfo)\n      .then((res) => {\n        if (res.data.success) {\n          setFavoriteCount(res.data.favoriteCount);\n        } else {\n          console.error(\"Couldn't fetch number of favorites\");\n        }\n      });\n\n    axios.post(\"http://localhost:5000/api/favorited\", trackInfo).then((res) => {\n      if (res.data.success) {\n        setFavorited(res.data.favorited);\n      } else {\n        console.error(\"Could not get favorite info\");\n      }\n    });\n  }, []);\n  const toggleFavorite = () => {\n    if (favorited) {\n      //Removing favorite\n      axios\n        .post(\"http://localhost:5000/api/removeFavorite\", trackInfo)\n        .then((res) => {\n          if (res.data.success) {\n            setFavoriteCount(favoriteCount - 1);\n            setFavorited(!favorited);\n          } else {\n            console.error(\"Failed removing track from favorites\");\n          }\n        });\n    } else {\n      //Adding favorite\n      axios\n        .post(\"http://localhost:5000/api/addFavorite\", trackInfo)\n        .then((res) => {\n          if (res.data.success) {\n            setFavoriteCount(favoriteCount + 1);\n            setFavorited(!favorited);\n          } else {\n            console.error(\"Failed adding track to favorites\");\n          }\n        });\n    }\n  };\n  return (\n    <div>\n      {!trackLoading ? (\n        <div id=\"main\">\n          <img\n            className=\"album-img\"\n            src={track.album.cover_xl}\n            alt={`${track.title} cover art`}\n          />\n          <div id=\"colors\" style={{ marginLeft: \"20px\" }}>\n            <Colors />\n          </div>\n\n          <div className=\"track-details\">\n            <h1 id=\"title\">{track.title}</h1>\n            <p id=\"artist-name\">Artist: {track.artist.name}</p>\n            <br />\n            <p id=\"album-name\">Album: {track.album.title}</p>\n            <br />\n            <p id=\"date\">Released: {track.album.release_date.substr(0, 4)}</p>\n            <br />\n            <div id=\"bottom-col\">\n              <a\n                href=\"https://www.deezer.com/artist/4495513\"\n                rel=\"noreferrer\"\n                target=\"_blank\"\n                id=\"view-more\"\n              >\n                See more from {track.artist.name} on DeezerÂ®\n                <img\n                  id=\"artist-pic\"\n                  src={track.artist.picture}\n                  alt={`${track.artist.name} icon`}\n                />\n              </a>\n              <div className=\"addFav\">\n                <button onClick={toggleFavorite}>\n                  {favorited ? \"Remove ðŸ”¥\" : \"Add ðŸ”¥\"}\n                  {favoriteCount}\n                </button>\n              </div>\n            </div>\n            <audio\n              id=\"audioPreview\"\n              src={track.preview}\n              controls\n              controlsList=\"nodownload noplaybackrate\"\n            >\n              Your browser does not support the audio element.\n            </audio>\n          </div>\n        </div>\n      ) : (\n        <h1 className=\"loading\">Loading...</h1>\n      )}\n    </div>\n  );\n};\nexport default SongDetails;\n","/Users/weas1/Desktop/sound-minds-auth/client/src/pages/Search/Search.js",[],"/Users/weas1/Desktop/sound-minds-auth/client/src/pages/Favorites/Favorites.js",[],"/Users/weas1/Desktop/sound-minds-auth/client/src/components/Nav/Nav.js",[],"/Users/weas1/Desktop/sound-minds-auth/client/src/components/Colors/Colors.js",[],{"ruleId":"58","replacedBy":"59"},{"ruleId":"60","replacedBy":"61"},{"ruleId":"62","severity":1,"message":"63","line":12,"column":8,"nodeType":"64","messageId":"65","endLine":12,"endColumn":12},{"ruleId":"66","severity":1,"message":"67","line":35,"column":6,"nodeType":"68","endLine":35,"endColumn":8,"suggestions":"69"},{"ruleId":"66","severity":1,"message":"70","line":63,"column":6,"nodeType":"68","endLine":63,"endColumn":8,"suggestions":"71"},"no-native-reassign",["72"],"no-negated-in-lhs",["73"],"no-unused-vars","'star' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'trackId'. Either include it or remove the dependency array.","ArrayExpression",["74"],"React Hook useEffect has a missing dependency: 'trackInfo'. Either include it or remove the dependency array.",["75"],"no-global-assign","no-unsafe-negation",{"desc":"76","fix":"77"},{"desc":"78","fix":"79"},"Update the dependencies array to be: [trackId]",{"range":"80","text":"81"},"Update the dependencies array to be: [trackInfo]",{"range":"82","text":"83"},[1240,1242],"[trackId]",[1988,1990],"[trackInfo]"]