[{"/Users/weas1/Desktop/sound-minds-auth/client/src/index.js":"1","/Users/weas1/Desktop/sound-minds-auth/client/src/reportWebVitals.js":"2","/Users/weas1/Desktop/sound-minds-auth/client/src/App.js":"3","/Users/weas1/Desktop/sound-minds-auth/client/src/helpers/UserContext.js":"4","/Users/weas1/Desktop/sound-minds-auth/client/src/pages/Signup/Signup.js":"5","/Users/weas1/Desktop/sound-minds-auth/client/src/pages/Login/Login.js":"6","/Users/weas1/Desktop/sound-minds-auth/client/src/pages/Profile/Profile.js":"7","/Users/weas1/Desktop/sound-minds-auth/client/src/pages/SongDetails/SongDetails.js":"8","/Users/weas1/Desktop/sound-minds-auth/client/src/pages/Search/Search.js":"9","/Users/weas1/Desktop/sound-minds-auth/client/src/pages/Favorites/Favorites.js":"10","/Users/weas1/Desktop/sound-minds-auth/client/src/components/Nav/Nav.js":"11","/Users/weas1/Desktop/sound-minds-auth/client/src/components/Colors/Colors.js":"12"},{"size":449,"mtime":1637846811591,"results":"13","hashOfConfig":"14"},{"size":362,"mtime":1637840994825,"results":"15","hashOfConfig":"14"},{"size":3340,"mtime":1641679494557,"results":"16","hashOfConfig":"14"},{"size":145,"mtime":1637849308676,"results":"17","hashOfConfig":"14"},{"size":4086,"mtime":1641069696476,"results":"18","hashOfConfig":"14"},{"size":3711,"mtime":1641069658040,"results":"19","hashOfConfig":"14"},{"size":894,"mtime":1641679494558,"results":"20","hashOfConfig":"14"},{"size":4480,"mtime":1641679494559,"results":"21","hashOfConfig":"14"},{"size":3737,"mtime":1641671828944,"results":"22","hashOfConfig":"14"},{"size":2490,"mtime":1641679494557,"results":"23","hashOfConfig":"14"},{"size":760,"mtime":1640627099167,"results":"24","hashOfConfig":"14"},{"size":382,"mtime":1640643883910,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"116mrlq",{"filePath":"29","messages":"30","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"31","messages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33"},{"filePath":"34","messages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"36","messages":"37","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"38","messages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"40","messages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"42","messages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44"},{"filePath":"45","messages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49"},{"filePath":"50","messages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"52","messages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"/Users/weas1/Desktop/sound-minds-auth/client/src/index.js",[],["54","55"],"/Users/weas1/Desktop/sound-minds-auth/client/src/reportWebVitals.js",[],"/Users/weas1/Desktop/sound-minds-auth/client/src/App.js",["56"],"import \"./App.css\";\nimport { BrowserRouter, Route, Switch, Link } from \"react-router-dom\";\nimport Login from \"../src/pages/Login/Login\";\nimport Signup from \"../src/pages/Signup/Signup\";\nimport Search from \"../src/pages/Search/Search\";\nimport Favorites from \"../src/pages/Favorites/Favorites\";\nimport Profile from \"../src/pages/Profile/Profile\";\nimport SongDetails from \"../src/pages/SongDetails/SongDetails\";\n// eslint-disable-next-line\nimport Nav from \"./components/Nav/Nav\";\nimport UserContext from \"./helpers/UserContext\";\nimport star from \"./assets/star_icon.png\";\nimport logoutImg from \"./assets/logout_icon.png\";\nimport search from \"./assets/search_icon.png\";\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nfunction App() {\n  const [email, setEmail] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [favorites, setFavorites] = useState([]);\n\n  useEffect(() => {\n    axios\n      .get(\"http://localhost:5000/api/user\", { withCredentials: true })\n      .then((res) => {\n        setEmail(res.data.email);\n        setUsername(res.data.username);\n        setFavorites(res.data.favorites);\n      });\n  }, []);\n\n  const logout = () => {\n    axios\n      .post(\"http://localhost:5000/api/logout\", {}, { withCredentials: true })\n      .then(() => {\n        setEmail(\"\");\n      });\n\n    window.location = \"/\";\n  };\n  return (\n    <UserContext.Provider\n      value={{\n        username,\n        setUsername,\n        email,\n        setEmail,\n        favorites,\n        setFavorites,\n      }}\n    >\n      <BrowserRouter>\n        {/* {username && ( */}\n        <div>\n          <div className=\"nav\">\n            {\" \"}\n            <Link to=\"/search\">\n              <div className=\"search-nav\">\n                {\" \"}\n                <img\n                  className=\"icon search-icon\"\n                  src={search}\n                  alt=\"search icon\"\n                />\n              </div>\n            </Link>\n            <Link to=\"/profile\">\n              <div className=\"profile-nav\">\n                <div className=\"circle\">\n                  {username.substr(0, 1).toUpperCase()}\n                </div>\n              </div>\n            </Link>\n            <Link to=\"/favorites\">\n              <div className=\"favorites-nav\">\n                ðŸ”¥\n                {/* <img\n                  className=\"icon fav-icon\"\n                  src={star}\n                  alt=\"favorites icon\"\n                /> */}\n              </div>\n            </Link>\n            <Link to=\"\" onClick={() => logout()}>\n              <div className=\"logout-nav\">\n                {\" \"}\n                <img\n                  className=\"icon logout-icon\"\n                  src={logoutImg}\n                  alt=\"logout icon\"\n                />\n              </div>\n            </Link>\n          </div>\n        </div>\n        {/* )} */}\n\n        <Switch>\n          <Route exact path=\"/\" component={Signup} />\n          <Route exact path=\"/login\" component={Login} />\n          <Route exact path=\"/search\" component={Search} />\n          <Route exact path=\"/track/:trackId\" component={SongDetails} />\n          <Route exact path=\"/favorites\" component={Favorites} />\n          <Route exact path=\"/profile\" component={Profile} />\n        </Switch>\n      </BrowserRouter>\n    </UserContext.Provider>\n  );\n}\n\nexport default App;\n","/Users/weas1/Desktop/sound-minds-auth/client/src/helpers/UserContext.js",[],"/Users/weas1/Desktop/sound-minds-auth/client/src/pages/Signup/Signup.js",[],"/Users/weas1/Desktop/sound-minds-auth/client/src/pages/Login/Login.js",[],"/Users/weas1/Desktop/sound-minds-auth/client/src/pages/Profile/Profile.js",[],"/Users/weas1/Desktop/sound-minds-auth/client/src/pages/SongDetails/SongDetails.js",["57","58","59","60"],"import { useEffect, useState, useContext } from \"react\";\nimport Colors from \"../../components/Colors/Colors\";\nimport \"./song-details.css\";\nimport UserContext from \"../../helpers/UserContext\";\nimport axios from \"axios\";\n\nconst SongDetails = (props) => {\n  const [trackLoading, setTrackLoading] = useState(true);\n  let trackId = props.match.params.trackId;\n\n  const [track, setTrack] = useState();\n  const [trackTitle, setTrackTitle] = useState();\n  const [trackArtist, setTrackArtist] = useState();\n  const [trackCover, setTrackCover] = useState();\n  const [trackAlbum, setTrackAlbum] = useState();\n  const user = useContext(UserContext);\n  // const [favorited, setFavorited] = useState(false);\n  let favorited = false;\n\n  // const [favoriteCount, setFavoriteCount] = useState(0);\n\n  useEffect(() => {\n    fetch(\n      `https://thingproxy.freeboard.io/fetch/https://api.deezer.com/track/${trackId}`\n    )\n      .then((res) => res.json())\n      .then((res) => {\n        console.log(res);\n        setTrack(res);\n        setTrackTitle(res.title);\n        setTrackArtist(res.artist.name);\n        setTrackCover(res.album.cover_xl);\n        setTrackAlbum(res.album.title);\n        document.title = `${res.title} - ${res.artist.name}`;\n        setTrackLoading(false);\n      });\n  }, []);\n  const trackInfo = {\n    favoritedBy: user.username,\n    trackId: trackId,\n    trackTitle: trackTitle,\n    trackArtist: trackArtist,\n    trackCover: trackCover,\n    trackAlbum: trackAlbum,\n  };\n  console.log(\"trackInfo :>> \", trackInfo);\n\n  for (let i = 0; i < user.favorites.length; i++) {\n    if (user.favorites[i].trackId == trackId) {\n      favorited = true;\n    }\n  }\n\n  // useEffect(() => {\n  //   axios\n  //     .post(\"http://localhost:5000/api/favoriteCount\", trackInfo)\n  //     .then((res) => {\n  //       if (res.data.success) {\n  //         setFavoriteCount(res.data.favoriteCount);\n  //       } else {\n  //         console.error(\"Couldn't fetch number of favorites\");\n  //       }\n  //     });\n\n  //   axios.post(\"http://localhost:5000/api/favorited\", trackInfo).then((res) => {\n  //     if (res.data.success) {\n  //       setFavorited(res.data.favorited);\n  //     } else {\n  //       console.error(\"Could not get favorite info\");\n  //     }\n  //   });\n  // }, []);\n  const toggleFavorite = () => {\n    //Removing favorite\n    let arr = user.favorites;\n    for (let i = 0; i < arr.length; i++) {\n      if (arr[i].trackId == trackId) {\n        axios.post(\"http://localhost:5000/api/removeFavorite\", trackInfo);\n\n        window.location.reload();\n        return;\n      }\n    }\n    {\n      //Adding favorite\n      axios.post(\"http://localhost:5000/api/addFavorite\", trackInfo);\n\n      window.location.reload();\n    }\n  };\n  return (\n    <div>\n      {!trackLoading ? (\n        <div id=\"main\">\n          <img\n            className=\"album-img\"\n            src={track.album.cover_xl}\n            alt={`${track.title} cover art`}\n          />\n          <div id=\"colors\" style={{ marginLeft: \"20px\" }}>\n            <Colors />\n          </div>\n\n          <div className=\"track-details\">\n            <h1 id=\"title\">{track.title}</h1>\n            <p id=\"artist-name\">Artist: {track.artist.name}</p>\n            <br />\n            <p id=\"album-name\">Album: {track.album.title}</p>\n            <br />\n            <p id=\"date\">Released: {track.album.release_date.substr(0, 4)}</p>\n            <br />\n            <div id=\"bottom-col\">\n              <a\n                href=\"https://www.deezer.com/artist/4495513\"\n                rel=\"noreferrer\"\n                target=\"_blank\"\n                id=\"view-more\"\n              >\n                See more from {track.artist.name} on DeezerÂ®\n                <img\n                  id=\"artist-pic\"\n                  src={track.artist.picture}\n                  alt={`${track.artist.name} icon`}\n                />\n              </a>\n              <div className=\"addFav\">\n                <button onClick={toggleFavorite}>\n                  {favorited ? \"Remove ðŸ”¥\" : \"Add ðŸ”¥\"}\n                </button>\n              </div>\n            </div>\n            <audio\n              id=\"audioPreview\"\n              src={track.preview}\n              controls\n              controlsList=\"nodownload noplaybackrate\"\n            >\n              Your browser does not support the audio element.\n            </audio>\n          </div>\n        </div>\n      ) : (\n        <h1 className=\"loading\">Loading...</h1>\n      )}\n    </div>\n  );\n};\nexport default SongDetails;\n","/Users/weas1/Desktop/sound-minds-auth/client/src/pages/Search/Search.js",[],"/Users/weas1/Desktop/sound-minds-auth/client/src/pages/Favorites/Favorites.js",["61"],"import \"./favorites.css\";\nimport { useState, useContext, useEffect } from \"react\";\nimport UserContext from \"../../helpers/UserContext\";\n\nconst Favorites = () => {\n  const user = useContext(UserContext);\n  const [favoriteTracks, setFavoriteTracks] = useState([]);\n  useEffect(() => {\n    setFavoriteTracks(user.favorites);\n  }, [user]);\n  const [message, setMessage] = useState(\"No Favorites\");\n  document.title = `Favorites`;\n\n  return (\n    <div>\n      <div className=\"results\">\n        {/* Search Results */}\n        {favoriteTracks.length > 0 ? (\n          favoriteTracks.map((item, key) => (\n            <div\n              key={item.trackId}\n              className=\"result\"\n              style={{\n                backgroundImage: `url(${item.trackCover})`,\n                boxShadow: \"5px 1px 10px #999\",\n              }}\n              trackId={item.trackId}\n            >\n              <a href={`/track/${item.trackId}`}>\n                <img\n                  // style={{ width: \"150px\" }}\n                  src={item.trackCover}\n                  alt={`${item.trackTitle} cover art`}\n                  className=\"coverArt\"\n                />\n              </a>\n              <div>\n                <h4\n                  className=\"title\"\n                  style={{\n                    backdropFilter: \"blur(15px)\",\n                    borderRadius: \"13px\",\n                    padding: \"5px\",\n                    textShadow: \"1px 1px 5px #111\",\n                  }}\n                >\n                  {item.trackTitle}\n                </h4>\n                <div className=\"details\">\n                  <p\n                    style={{\n                      backdropFilter: \"blur(15px)\",\n                      borderRadius: \"13px\",\n                      padding: \"5px\",\n                      textShadow: \"1px 1px 5px #111\",\n                    }}\n                  >\n                    Artist: {item.trackArtist}\n                  </p>\n\n                  <br />\n                </div>\n              </div>\n              <br />\n              {/* <audio\n                className=\"audioPreview\"\n                src={item.preview}\n                controls\n                controlsList=\"nodownload noplaybackrate\"\n              >\n                Your browser does not support the audio element.\n              </audio> */}\n            </div>\n          ))\n        ) : (\n          <h1 className=\"noSearch\">{message}</h1>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Favorites;\n","/Users/weas1/Desktop/sound-minds-auth/client/src/components/Nav/Nav.js",[],"/Users/weas1/Desktop/sound-minds-auth/client/src/components/Colors/Colors.js",[],{"ruleId":"62","replacedBy":"63"},{"ruleId":"64","replacedBy":"65"},{"ruleId":"66","severity":1,"message":"67","line":12,"column":8,"nodeType":"68","messageId":"69","endLine":12,"endColumn":12},{"ruleId":"70","severity":1,"message":"71","line":37,"column":6,"nodeType":"72","endLine":37,"endColumn":8,"suggestions":"73"},{"ruleId":"74","severity":1,"message":"75","line":49,"column":35,"nodeType":"76","messageId":"77","endLine":49,"endColumn":37},{"ruleId":"74","severity":1,"message":"75","line":77,"column":26,"nodeType":"76","messageId":"77","endLine":77,"endColumn":28},{"ruleId":"78","severity":1,"message":"79","line":84,"column":5,"nodeType":"80","messageId":"81","endLine":89,"endColumn":6},{"ruleId":"66","severity":1,"message":"82","line":11,"column":19,"nodeType":"68","messageId":"69","endLine":11,"endColumn":29},"no-native-reassign",["83"],"no-negated-in-lhs",["84"],"no-unused-vars","'star' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'trackId'. Either include it or remove the dependency array.","ArrayExpression",["85"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","no-lone-blocks","Nested block is redundant.","BlockStatement","redundantNestedBlock","'setMessage' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"86","fix":"87"},"Update the dependencies array to be: [trackId]",{"range":"88","text":"89"},[1276,1278],"[trackId]"]