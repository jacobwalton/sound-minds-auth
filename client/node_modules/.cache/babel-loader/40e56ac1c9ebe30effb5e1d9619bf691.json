{"ast":null,"code":"import _slicedToArray from\"/Users/weas1/Desktop/sound-minds-auth/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"./signup.css\";import{useState,useContext}from\"react\";import axios from\"axios\";import UserContext from\"../../helpers/UserContext\";import Colors from\"../../components/Colors/Colors\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var img=\"https://cdns.iconmonstr.com/wp-content/assets/preview/2017/240/iconmonstr-eye-9.png\";var Signup=function Signup(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),signupError=_useState8[0],setSignupError=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),passwordShown=_useState10[0],setPasswordShown=_useState10[1];// Password toggle handler\nvar togglePassword=function togglePassword(){setPasswordShown(!passwordShown);};var user=useContext(UserContext);var registerUser=function registerUser(e){e.preventDefault();var userData={email:email,username:username,password:password};axios.post(\"http://localhost:5000/api/signup\",userData,{withCredentials:true}).then(function(response){user.setEmail(response.data.email);user.setUsername(response.data.username);// user.setEmail(\"\");\n// user.setUsername(\"\");\nwindow.location=\"/profile\";}).catch(function(err){if(JSON.stringify(err).includes(\"createError\")){setSignupError(\"User already registered with username or email\");}console.log(\"Signup Error:\",JSON.stringify(err));console.log(typeof JSON.stringify(err));});};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"leftContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsx(Colors,{className:\"colorPalete\"}),/*#__PURE__*/_jsxs(\"h1\",{className:\"headerText\",children:[\"SOUND\",/*#__PURE__*/_jsx(\"br\",{}),\"MINDS\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"aboutText\",children:\"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"signupBar\",children:\" Signup/ Login to continue\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"footerText\",children:[\"created by Jacob Walton 2021\",/*#__PURE__*/_jsx(\"br\",{}),\"powered by DeezerAPI\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"rightContainer\",children:/*#__PURE__*/_jsx(\"div\",{className:\"signupContainer\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"signupForm\",action:\"\",onSubmit:function onSubmit(e){return registerUser(e);},children:[/*#__PURE__*/_jsx(\"p\",{className:\"loginErr\",children:signupError}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:username,placeholder:\"Username...\",onChange:function onChange(e){return setUsername(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:email,placeholder:\"Email...\",onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:passwordShown?\"text\":\"password\",value:password,placeholder:\"Password...\",onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/_jsx(\"img\",{className:\"visible\",src:img,id:\"eye\",onClick:togglePassword,alt:\"show password icon\"}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",className:\"submit\",value:\"Sign Up\"}),/*#__PURE__*/_jsx(\"div\",{className:\"redirect\",children:/*#__PURE__*/_jsxs(\"a\",{href:\"/login\",children:[\"Already have an account?\",/*#__PURE__*/_jsx(\"br\",{}),\"Login here!\"]})})]})})})]});};export default Signup;","map":{"version":3,"sources":["/Users/weas1/Desktop/sound-minds-auth/client/src/pages/Signup/Signup.js"],"names":["useState","useContext","axios","UserContext","Colors","img","Signup","username","setUsername","email","setEmail","password","setPassword","signupError","setSignupError","passwordShown","setPasswordShown","togglePassword","user","registerUser","e","preventDefault","userData","post","withCredentials","then","response","data","window","location","catch","err","JSON","stringify","includes","console","log","target","value"],"mappings":"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","sourcesContent":["import \"./signup.css\";\nimport { useState, useContext } from \"react\";\nimport axios from \"axios\";\nimport UserContext from \"../../helpers/UserContext\";\nimport Colors from \"../../components/Colors/Colors\";\nconst img =\n  \"https://cdns.iconmonstr.com/wp-content/assets/preview/2017/240/iconmonstr-eye-9.png\";\n\nconst Signup = () => {\n  const [username, setUsername] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [signupError, setSignupError] = useState(\"\");\n\n  const [passwordShown, setPasswordShown] = useState(false);\n\n  // Password toggle handler\n  const togglePassword = () => {\n    setPasswordShown(!passwordShown);\n  };\n\n  const user = useContext(UserContext);\n\n  const registerUser = (e) => {\n    e.preventDefault();\n    const userData = { email, username, password };\n    axios\n      .post(\"http://localhost:5000/api/signup\", userData, {\n        withCredentials: true,\n      })\n      .then((response) => {\n        user.setEmail(response.data.email);\n        user.setUsername(response.data.username);\n        // user.setEmail(\"\");\n        // user.setUsername(\"\");\n        window.location = \"/profile\";\n      })\n      .catch((err) => {\n        if (JSON.stringify(err).includes(\"createError\")) {\n          setSignupError(\"User already registered with username or email\");\n        }\n\n        console.log(\"Signup Error:\", JSON.stringify(err));\n        console.log(typeof JSON.stringify(err));\n      });\n  };\n\n  return (\n    <div className=\"container\">\n      <div className=\"leftContainer\">\n        {/* Color palete */}\n        <div className=\"header\">\n          <Colors className=\"colorPalete\" />\n          {/* Header */}\n          <h1 className=\"headerText\">\n            SOUND\n            <br />\n            MINDS\n          </h1>\n        </div>\n        <div className=\"aboutText\">\n          Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do\n          eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad\n          minim veniam, quis nostrud exercitation ullamco laboris nisi ut\n          aliquip ex ea commodo consequat.\n        </div>\n        {/* Sign up/ log in to continue */}\n        <div className=\"signupBar\"> Signup/ Login to continue</div>\n        {/* Footer text */}\n        <div className=\"footerText\">\n          created by Jacob Walton 2021\n          <br />\n          powered by DeezerAPI\n        </div>\n      </div>\n      <div className=\"rightContainer\">\n        {/* Signup container */}\n        <div className=\"signupContainer\">\n          <form\n            className=\"signupForm\"\n            action=\"\"\n            onSubmit={(e) => registerUser(e)}\n          >\n            <p className=\"loginErr\">{signupError}</p>\n            {/* username */}\n            <input\n              type=\"text\"\n              value={username}\n              placeholder=\"Username...\"\n              onChange={(e) => setUsername(e.target.value)}\n            />\n            {/* email */}\n\n            <input\n              type=\"text\"\n              value={email}\n              placeholder=\"Email...\"\n              onChange={(e) => setEmail(e.target.value)}\n            />\n            {/* password */}\n\n            <input\n              type={passwordShown ? \"text\" : \"password\"}\n              value={password}\n              placeholder=\"Password...\"\n              onChange={(e) => setPassword(e.target.value)}\n            />\n\n            <img\n              className=\"visible\"\n              src={img}\n              id=\"eye\"\n              onClick={togglePassword}\n              alt=\"show password icon\"\n            />\n\n            <input type=\"submit\" className=\"submit\" value=\"Sign Up\" />\n\n            <div className=\"redirect\">\n              <a href=\"/login\">\n                Already have an account?\n                <br />\n                Login here!\n              </a>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Signup;\n"]},"metadata":{},"sourceType":"module"}