{"ast":null,"code":"import _slicedToArray from\"/Users/weas1/Desktop/sound-minds-auth/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"./login.css\";import{useState,useContext}from\"react\";import axios from\"axios\";import UserContext from\"../../helpers/UserContext\";import Colors from\"../../components/Colors/Colors\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var img=\"https://cdns.iconmonstr.com/wp-content/assets/preview/2017/240/iconmonstr-eye-9.png\";var Login=function Login(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];// eslint-disable-next-line\nvar _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),loginErr=_useState8[0],setLoginErr=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),passwordShown=_useState10[0],setPasswordShown=_useState10[1];// Password toggle handler\nvar togglePassword=function togglePassword(){setPasswordShown(!passwordShown);};var user=useContext(UserContext);var loginUser=function loginUser(e){e.preventDefault();var userData={email:email,username:username,password:password};axios.post(\"http://localhost:5000/api/login\",userData,{withCredentials:true}).then(function(response){user.setEmail(response.data.email);user.setUsername(response.data.username);// user.setEmail(\"\");\n// user.setUsername(\"\");\nsetLoginErr(false);window.location=\"/profile\";}).catch(function(){setLoginErr(true);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"leftContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsx(Colors,{className:\"colorPalete\"}),/*#__PURE__*/_jsxs(\"h1\",{className:\"headerText\",children:[\"SOUND\",/*#__PURE__*/_jsx(\"br\",{}),\"MINDS\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"aboutText\",children:\"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"signupBar\",children:\" Signup/ Login to continue\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"footerText\",children:[\"created by Jacob Walton 2021\",/*#__PURE__*/_jsx(\"br\",{}),\"powered by DeezerAPI\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"rightContainer\",children:/*#__PURE__*/_jsx(\"div\",{className:\"signupContainer\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"signupForm\",action:\"\",onSubmit:function onSubmit(e){return loginUser(e);},children:[loginErr&&/*#__PURE__*/_jsx(\"p\",{className:\"loginErr\",children:\"Username or password is incorrect\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:username,placeholder:\"Enter username...\",onChange:function onChange(e){return setUsername(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:passwordShown?\"text\":\"password\",value:password,placeholder:\"password...\",onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/_jsx(\"img\",{className:\"visible\",src:img,id:\"eye\",onClick:togglePassword,alt:\"show password icon\"}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",className:\"submit\",value:\"Log In\"}),/*#__PURE__*/_jsx(\"div\",{className:\"redirect\",children:/*#__PURE__*/_jsxs(\"a\",{href:\"/\",children:[\"Don't have an account yet?\",/*#__PURE__*/_jsx(\"br\",{}),\"Sign up here!\"]})})]})})})]});};export default Login;","map":{"version":3,"sources":["/Users/weas1/Desktop/sound-minds-auth/client/src/pages/Login/Login.js"],"names":["useState","useContext","axios","UserContext","Colors","img","Login","username","setUsername","email","setEmail","password","setPassword","loginErr","setLoginErr","passwordShown","setPasswordShown","togglePassword","user","loginUser","e","preventDefault","userData","post","withCredentials","then","response","data","window","location","catch","target","value"],"mappings":"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","sourcesContent":["import \"./login.css\";\nimport { useState, useContext } from \"react\";\nimport axios from \"axios\";\nimport UserContext from \"../../helpers/UserContext\";\nimport Colors from \"../../components/Colors/Colors\";\nconst img =\n  \"https://cdns.iconmonstr.com/wp-content/assets/preview/2017/240/iconmonstr-eye-9.png\";\n\nconst Login = () => {\n  const [username, setUsername] = useState(\"\");\n\n  // eslint-disable-next-line\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [loginErr, setLoginErr] = useState(false);\n\n  const [passwordShown, setPasswordShown] = useState(false);\n\n  // Password toggle handler\n  const togglePassword = () => {\n    setPasswordShown(!passwordShown);\n  };\n\n  const user = useContext(UserContext);\n\n  const loginUser = (e) => {\n    e.preventDefault();\n    const userData = { email, username, password };\n    axios\n      .post(\"http://localhost:5000/api/login\", userData, {\n        withCredentials: true,\n      })\n      .then((response) => {\n        user.setEmail(response.data.email);\n        user.setUsername(response.data.username);\n        // user.setEmail(\"\");\n        // user.setUsername(\"\");\n        setLoginErr(false);\n        window.location = \"/profile\";\n      })\n      .catch(() => {\n        setLoginErr(true);\n      });\n  };\n\n  return (\n    <div className=\"container\">\n      <div className=\"leftContainer\">\n        {/* Color palete */}\n        <div className=\"header\">\n          <Colors className=\"colorPalete\" />\n          {/* Header */}\n          <h1 className=\"headerText\">\n            SOUND\n            <br />\n            MINDS\n          </h1>\n        </div>\n        <div className=\"aboutText\">\n          Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do\n          eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad\n          minim veniam, quis nostrud exercitation ullamco laboris nisi ut\n          aliquip ex ea commodo consequat.\n        </div>\n        {/* Sign up/ log in to continue */}\n        <div className=\"signupBar\"> Signup/ Login to continue</div>\n        {/* Footer text */}\n        <div className=\"footerText\">\n          created by Jacob Walton 2021\n          <br />\n          powered by DeezerAPI\n        </div>\n      </div>\n      <div className=\"rightContainer\">\n        {/* Signup container */}\n        <div className=\"signupContainer\">\n          <form className=\"signupForm\" action=\"\" onSubmit={(e) => loginUser(e)}>\n            {/* username */}\n            {loginErr && (\n              <p className=\"loginErr\">Username or password is incorrect</p>\n            )}\n            <input\n              type=\"text\"\n              value={username}\n              placeholder=\"Enter username...\"\n              onChange={(e) => setUsername(e.target.value)}\n            />\n\n            {/* password */}\n            <input\n              type={passwordShown ? \"text\" : \"password\"}\n              value={password}\n              placeholder=\"password...\"\n              onChange={(e) => setPassword(e.target.value)}\n            />\n            <img\n              className=\"visible\"\n              src={img}\n              id=\"eye\"\n              onClick={togglePassword}\n              alt=\"show password icon\"\n            />\n            <input type=\"submit\" className=\"submit\" value=\"Log In\" />\n\n            <div className=\"redirect\">\n              <a href=\"/\">\n                Don't have an account yet?\n                <br />\n                Sign up here!\n              </a>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}