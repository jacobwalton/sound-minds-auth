{"ast":null,"code":"import _slicedToArray from\"/Users/weas1/Desktop/sound-minds-auth/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"./App.css\";import{BrowserRouter,Route,Switch,Link}from\"react-router-dom\";import Signup from\"./pages/Signup/Signup\";import Login from\"./pages/Login/Login\";import Search from\"./pages/Search/Search\";import Favorites from\"./pages/Favorites/Favorites\";import Profile from\"./pages/Profile/Profile\";import SongDetails from\"./pages/SongDetails/SongDetails\";// eslint-disable-next-line\nimport Nav from\"./components/Nav/Nav\";import UserContext from\"./helpers/UserContext\";import star from\"./assets/star_icon.png\";import logoutImg from\"./assets/logout_icon.png\";import search from\"./assets/search_icon.png\";import{useState,useEffect}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),username=_useState4[0],setUsername=_useState4[1];useEffect(function(){axios.get(\"http://localhost:5000/api/user\",{withCredentials:true}).then(function(res){setEmail(res.data.email);setUsername(res.data.username);});},[]);var logout=function logout(){axios.post(\"http://localhost:5000/api/logout\",{},{withCredentials:true}).then(function(){setEmail(\"\");});window.location=\"/\";};return/*#__PURE__*/_jsx(UserContext.Provider,{value:{username:username,setUsername:setUsername,email:email,setEmail:setEmail},children:/*#__PURE__*/_jsxs(BrowserRouter,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"nav\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"nav\",children:[\" \",/*#__PURE__*/_jsx(Link,{to:\"/search\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"search-nav\",children:[\" \",/*#__PURE__*/_jsx(\"img\",{className:\"icon search-icon\",src:search,alt:\"search icon\"})]})}),/*#__PURE__*/_jsx(Link,{to:\"/profile\",children:/*#__PURE__*/_jsx(\"div\",{className:\"profile-nav\",children:/*#__PURE__*/_jsx(\"div\",{className:\"circle\",children:username.substr(0,1).toUpperCase()})})}),/*#__PURE__*/_jsx(Link,{to:\"/favorites\",children:/*#__PURE__*/_jsx(\"div\",{className:\"favorites-nav\",children:/*#__PURE__*/_jsx(\"img\",{className:\"icon fav-icon\",src:star,alt:\"favorites icon\"})})}),/*#__PURE__*/_jsx(Link,{to:\"\",onClick:function onClick(){return logout();},children:/*#__PURE__*/_jsxs(\"div\",{className:\"logout-nav\",children:[\" \",/*#__PURE__*/_jsx(\"img\",{className:\"icon logout-icon\",src:logoutImg,alt:\"logout icon\"})]})})]})}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",component:Signup}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/login\",component:Login}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/search\",component:Search}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/track/:trackId\",component:SongDetails}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/favorites\",component:Favorites}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/profile\",component:Profile})]})]})});}export default App;","map":{"version":3,"sources":["/Users/weas1/Desktop/sound-minds-auth/client/src/App.js"],"names":["BrowserRouter","Route","Switch","Link","Signup","Login","Search","Favorites","Profile","SongDetails","Nav","UserContext","star","logoutImg","search","useState","useEffect","axios","App","email","setEmail","username","setUsername","get","withCredentials","then","res","data","logout","post","window","location","substr","toUpperCase"],"mappings":"kIAAA,MAAO,WAAP,CACA,OAASA,aAAT,CAAwBC,KAAxB,CAA+BC,MAA/B,CAAuCC,IAAvC,KAAmD,kBAAnD,CACA,MAAOC,CAAAA,MAAP,KAAmB,uBAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,qBAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,uBAAnB,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,CACA,MAAOC,CAAAA,OAAP,KAAoB,yBAApB,CACA,MAAOC,CAAAA,WAAP,KAAwB,iCAAxB,CACA;AACA,MAAOC,CAAAA,GAAP,KAAgB,sBAAhB,CACA,MAAOC,CAAAA,WAAP,KAAwB,uBAAxB,CACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,CACA,MAAOC,CAAAA,SAAP,KAAsB,0BAAtB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,OAASC,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAEA,QAASC,CAAAA,GAAT,EAAe,CACb,cAA0BH,QAAQ,CAAC,EAAD,CAAlC,wCAAOI,KAAP,eAAcC,QAAd,eACA,eAAgCL,QAAQ,CAAC,EAAD,CAAxC,yCAAOM,QAAP,eAAiBC,WAAjB,eAEAN,SAAS,CAAC,UAAM,CACdC,KAAK,CACFM,GADH,CACO,gCADP,CACyC,CAAEC,eAAe,CAAE,IAAnB,CADzC,EAEGC,IAFH,CAEQ,SAACC,GAAD,CAAS,CACbN,QAAQ,CAACM,GAAG,CAACC,IAAJ,CAASR,KAAV,CAAR,CACAG,WAAW,CAACI,GAAG,CAACC,IAAJ,CAASN,QAAV,CAAX,CACD,CALH,EAMD,CAPQ,CAON,EAPM,CAAT,CASA,GAAMO,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACnBX,KAAK,CACFY,IADH,CACQ,kCADR,CAC4C,EAD5C,CACgD,CAAEL,eAAe,CAAE,IAAnB,CADhD,EAEGC,IAFH,CAEQ,UAAM,CACVL,QAAQ,CAAC,EAAD,CAAR,CACD,CAJH,EAMAU,MAAM,CAACC,QAAP,CAAkB,GAAlB,CACD,CARD,CASA,mBACE,KAAC,WAAD,CAAa,QAAb,EAAsB,KAAK,CAAE,CAAEV,QAAQ,CAARA,QAAF,CAAYC,WAAW,CAAXA,WAAZ,CAAyBH,KAAK,CAALA,KAAzB,CAAgCC,QAAQ,CAARA,QAAhC,CAA7B,uBACE,MAAC,aAAD,yBAEE,YAAK,SAAS,CAAC,KAAf,uBACE,aAAK,SAAS,CAAC,KAAf,WACG,GADH,cAEE,KAAC,IAAD,EAAM,EAAE,CAAC,SAAT,uBACE,aAAK,SAAS,CAAC,YAAf,WACG,GADH,cAEE,YACE,SAAS,CAAC,kBADZ,CAEE,GAAG,CAAEN,MAFP,CAGE,GAAG,CAAC,aAHN,EAFF,GADF,EAFF,cAYE,KAAC,IAAD,EAAM,EAAE,CAAC,UAAT,uBACE,YAAK,SAAS,CAAC,aAAf,uBACE,YAAK,SAAS,CAAC,QAAf,UACGO,QAAQ,CAACW,MAAT,CAAgB,CAAhB,CAAmB,CAAnB,EAAsBC,WAAtB,EADH,EADF,EADF,EAZF,cAmBE,KAAC,IAAD,EAAM,EAAE,CAAC,YAAT,uBACE,YAAK,SAAS,CAAC,eAAf,uBACE,YACE,SAAS,CAAC,eADZ,CAEE,GAAG,CAAErB,IAFP,CAGE,GAAG,CAAC,gBAHN,EADF,EADF,EAnBF,cA4BE,KAAC,IAAD,EAAM,EAAE,CAAC,EAAT,CAAY,OAAO,CAAE,yBAAMgB,CAAAA,MAAM,EAAZ,EAArB,uBACE,aAAK,SAAS,CAAC,YAAf,WACG,GADH,cAEE,YACE,SAAS,CAAC,kBADZ,CAEE,GAAG,CAAEf,SAFP,CAGE,GAAG,CAAC,aAHN,EAFF,GADF,EA5BF,GADF,EAFF,cA6CE,MAAC,MAAD,yBACE,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,GAAlB,CAAsB,SAAS,CAAET,MAAjC,EADF,cAEE,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,QAAlB,CAA2B,SAAS,CAAEC,KAAtC,EAFF,cAGE,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,SAAlB,CAA4B,SAAS,CAAEC,MAAvC,EAHF,cAIE,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,iBAAlB,CAAoC,SAAS,CAAEG,WAA/C,EAJF,cAKE,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,YAAlB,CAA+B,SAAS,CAAEF,SAA1C,EALF,cAME,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,UAAlB,CAA6B,SAAS,CAAEC,OAAxC,EANF,GA7CF,GADF,EADF,CA0DD,CAED,cAAeU,CAAAA,GAAf","sourcesContent":["import \"./App.css\";\nimport { BrowserRouter, Route, Switch, Link } from \"react-router-dom\";\nimport Signup from \"./pages/Signup/Signup\";\nimport Login from \"./pages/Login/Login\";\nimport Search from \"./pages/Search/Search\";\nimport Favorites from \"./pages/Favorites/Favorites\";\nimport Profile from \"./pages/Profile/Profile\";\nimport SongDetails from \"./pages/SongDetails/SongDetails\";\n// eslint-disable-next-line\nimport Nav from \"./components/Nav/Nav\";\nimport UserContext from \"./helpers/UserContext\";\nimport star from \"./assets/star_icon.png\";\nimport logoutImg from \"./assets/logout_icon.png\";\nimport search from \"./assets/search_icon.png\";\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nfunction App() {\n  const [email, setEmail] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n\n  useEffect(() => {\n    axios\n      .get(\"http://localhost:5000/api/user\", { withCredentials: true })\n      .then((res) => {\n        setEmail(res.data.email);\n        setUsername(res.data.username);\n      });\n  }, []);\n\n  const logout = () => {\n    axios\n      .post(\"http://localhost:5000/api/logout\", {}, { withCredentials: true })\n      .then(() => {\n        setEmail(\"\");\n      });\n\n    window.location = \"/\";\n  };\n  return (\n    <UserContext.Provider value={{ username, setUsername, email, setEmail }}>\n      <BrowserRouter>\n        {/* {username && ( */}\n        <div className=\"nav\">\n          <div className=\"nav\">\n            {\" \"}\n            <Link to=\"/search\">\n              <div className=\"search-nav\">\n                {\" \"}\n                <img\n                  className=\"icon search-icon\"\n                  src={search}\n                  alt=\"search icon\"\n                />\n              </div>\n            </Link>\n            <Link to=\"/profile\">\n              <div className=\"profile-nav\">\n                <div className=\"circle\">\n                  {username.substr(0, 1).toUpperCase()}\n                </div>\n              </div>\n            </Link>\n            <Link to=\"/favorites\">\n              <div className=\"favorites-nav\">\n                <img\n                  className=\"icon fav-icon\"\n                  src={star}\n                  alt=\"favorites icon\"\n                />\n              </div>\n            </Link>\n            <Link to=\"\" onClick={() => logout()}>\n              <div className=\"logout-nav\">\n                {\" \"}\n                <img\n                  className=\"icon logout-icon\"\n                  src={logoutImg}\n                  alt=\"logout icon\"\n                />\n              </div>\n            </Link>\n          </div>\n        </div>\n        {/* )} */}\n\n        <Switch>\n          <Route exact path=\"/\" component={Signup} />\n          <Route exact path=\"/login\" component={Login} />\n          <Route exact path=\"/search\" component={Search} />\n          <Route exact path=\"/track/:trackId\" component={SongDetails} />\n          <Route exact path=\"/favorites\" component={Favorites} />\n          <Route exact path=\"/profile\" component={Profile} />\n        </Switch>\n      </BrowserRouter>\n    </UserContext.Provider>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}