{"ast":null,"code":"var _jsxFileName = \"/Users/weas1/Desktop/sound-minds-auth/client/src/pages/Signup/Signup.js\",\n    _s = $RefreshSig$();\n\nimport \"./signup.css\";\nimport { useState, useContext } from \"react\";\nimport axios from \"axios\";\nimport UserContext from \"../../helpers/UserContext\";\nimport Colors from \"../../components/Colors/Colors\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst img = \"https://cdns.iconmonstr.com/wp-content/assets/preview/2017/240/iconmonstr-eye-9.png\";\n\nconst Signup = () => {\n  _s();\n\n  document.title = `Sign Up`;\n  const [username, setUsername] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [signupError, setSignupError] = useState(\"\");\n  const [passwordShown, setPasswordShown] = useState(false); // Password toggle handler\n\n  const togglePassword = () => {\n    setPasswordShown(!passwordShown);\n  };\n\n  const user = useContext(UserContext);\n\n  const registerUser = e => {\n    e.preventDefault();\n    const userData = {\n      email,\n      username,\n      password\n    };\n    axios.post(\"http://localhost:5000/api/signup\", userData, {\n      withCredentials: true\n    }).then(response => {\n      user.setEmail(response.data.email);\n      user.setUsername(response.data.username); // user.setEmail(\"\");\n      // user.setUsername(\"\");\n\n      window.location = \"/profile\";\n    }).catch(err => {\n      if (JSON.stringify(err).includes(\"createError\")) {\n        setSignupError(\"User already registered with username or email\");\n      }\n\n      console.log(\"Signup Error:\", JSON.stringify(err));\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"leftContainer\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"colors\",\n          children: /*#__PURE__*/_jsxDEV(Colors, {\n            className: \"colorPalete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"headerText\",\n          children: [\"SOUND\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this), \"MINDS\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"aboutText\",\n        children: \"Find new music, share new music and discuss it all right here. Keep track of all of your facorite songs in one place. Whether you're a fan of a tune or find it overrated, you're welcome to make your points, just be ready to defend them if neccessary.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"signupBar\",\n        children: \" Signup/ Login to continue\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"footerText\",\n        children: [\"created by Jacob Walton 2022\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), \"powered by DeezerAPI\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rightContainer\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"signupContainer\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"signupForm\",\n          action: \"\",\n          onSubmit: e => registerUser(e),\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"loginErr\",\n            children: signupError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: username,\n            placeholder: \"Username...\",\n            onChange: e => setUsername(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: email,\n            placeholder: \"Email...\",\n            onChange: e => setEmail(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: passwordShown ? \"text\" : \"password\",\n            value: password,\n            placeholder: \"Password...\",\n            onChange: e => setPassword(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"visible\",\n            src: img,\n            id: \"eye\",\n            onClick: togglePassword,\n            alt: \"show password icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"submit\",\n            className: \"submit\",\n            value: \"Sign Up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"redirect\",\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/login\",\n              style: {\n                textDecoration: \"underline\"\n              },\n              children: [\"Already have an account?\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 17\n              }, this), \"Login here!\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Signup, \"o12/nNHMgPQARF28eHXEdy7wJqk=\");\n\n_c = Signup;\nexport default Signup;\n\nvar _c;\n\n$RefreshReg$(_c, \"Signup\");","map":{"version":3,"sources":["/Users/weas1/Desktop/sound-minds-auth/client/src/pages/Signup/Signup.js"],"names":["useState","useContext","axios","UserContext","Colors","img","Signup","document","title","username","setUsername","email","setEmail","password","setPassword","signupError","setSignupError","passwordShown","setPasswordShown","togglePassword","user","registerUser","e","preventDefault","userData","post","withCredentials","then","response","data","window","location","catch","err","JSON","stringify","includes","console","log","target","value","textDecoration"],"mappings":"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","sourcesContent":["import \"./signup.css\";\nimport { useState, useContext } from \"react\";\nimport axios from \"axios\";\nimport UserContext from \"../../helpers/UserContext\";\nimport Colors from \"../../components/Colors/Colors\";\nconst img =\n  \"https://cdns.iconmonstr.com/wp-content/assets/preview/2017/240/iconmonstr-eye-9.png\";\n\nconst Signup = () => {\n  document.title = `Sign Up`;\n\n  const [username, setUsername] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [signupError, setSignupError] = useState(\"\");\n\n  const [passwordShown, setPasswordShown] = useState(false);\n\n  // Password toggle handler\n  const togglePassword = () => {\n    setPasswordShown(!passwordShown);\n  };\n\n  const user = useContext(UserContext);\n\n  const registerUser = (e) => {\n    e.preventDefault();\n    const userData = { email, username, password };\n    axios\n      .post(\"http://localhost:5000/api/signup\", userData, {\n        withCredentials: true,\n      })\n      .then((response) => {\n        user.setEmail(response.data.email);\n        user.setUsername(response.data.username);\n        // user.setEmail(\"\");\n        // user.setUsername(\"\");\n        window.location = \"/profile\";\n      })\n      .catch((err) => {\n        if (JSON.stringify(err).includes(\"createError\")) {\n          setSignupError(\"User already registered with username or email\");\n        }\n\n        console.log(\"Signup Error:\", JSON.stringify(err));\n      });\n  };\n\n  return (\n    <div className=\"container\">\n      <div className=\"leftContainer\">\n        {/* Color palete */}\n        <div className=\"header\">\n          <div className=\"colors\">\n            <Colors className=\"colorPalete\" />\n          </div>\n\n          {/* Header */}\n          <h1 className=\"headerText\">\n            SOUND\n            <br />\n            MINDS\n          </h1>\n        </div>\n        <div className=\"aboutText\">\n          Find new music, share new music and discuss it all right here. Keep\n          track of all of your facorite songs in one place. Whether you're a fan\n          of a tune or find it overrated, you're welcome to make your points,\n          just be ready to defend them if neccessary.\n        </div>\n        {/* Sign up/ log in to continue */}\n        <div className=\"signupBar\"> Signup/ Login to continue</div>\n        {/* Footer text */}\n        <div className=\"footerText\">\n          created by Jacob Walton 2022\n          <br />\n          powered by DeezerAPI\n        </div>\n      </div>\n      <div className=\"rightContainer\">\n        {/* Signup container */}\n        <div className=\"signupContainer\">\n          <form\n            className=\"signupForm\"\n            action=\"\"\n            onSubmit={(e) => registerUser(e)}\n          >\n            <p className=\"loginErr\">{signupError}</p>\n            {/* username */}\n            <input\n              type=\"text\"\n              value={username}\n              placeholder=\"Username...\"\n              onChange={(e) => setUsername(e.target.value)}\n            />\n            {/* email */}\n\n            <input\n              type=\"text\"\n              value={email}\n              placeholder=\"Email...\"\n              onChange={(e) => setEmail(e.target.value)}\n            />\n            {/* password */}\n\n            <input\n              type={passwordShown ? \"text\" : \"password\"}\n              value={password}\n              placeholder=\"Password...\"\n              onChange={(e) => setPassword(e.target.value)}\n            />\n\n            <img\n              className=\"visible\"\n              src={img}\n              id=\"eye\"\n              onClick={togglePassword}\n              alt=\"show password icon\"\n            />\n\n            <input type=\"submit\" className=\"submit\" value=\"Sign Up\" />\n\n            <div className=\"redirect\">\n              <a href=\"/login\" style={{ textDecoration: \"underline\" }}>\n                Already have an account?\n                <br />\n                Login here!\n              </a>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Signup;\n"]},"metadata":{},"sourceType":"module"}