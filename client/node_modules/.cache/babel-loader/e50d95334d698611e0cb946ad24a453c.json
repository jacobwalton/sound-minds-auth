{"ast":null,"code":"import _slicedToArray from\"/Users/weas1/Desktop/sound-minds-auth/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"./search.css\";import{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Search=function Search(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),results=_useState2[0],setResults=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),searchParam=_useState4[0],setSearchParam=_useState4[1];var baseUrl=\"https://thingproxy.freeboard.io/fetch/https://api.deezer.com/search/?q=\".concat(searchParam.replace(/ /g,\"%20\"));var handleChange=function handleChange(e){setSearchParam(e.target.value);};var fetchData=function fetchData(){if(searchParam.length===0){setSearchParam(\"Drake\");}// console.log(baseUrl);\n// `https://api.allorigins.win/get?url=${encodeURIComponent(baseUrl)}`);\nreturn fetch(baseUrl,{method:\"GET\",mode:\"cors\",headers:{\"Content-Type\":\"application/json\",\"Access-Control-Allow-Origin\":\"https://localhost:3000\",\"Cache-Control\":null,\"X-Requested-With\":null}}).then(function(res){return res.json();}).then(function(data){return setResults(data.data);}).catch(function(err){return console.log(\"ERROR: \",err);});};var handleSearch=function handleSearch(e){e.preventDefault();fetchData();};return/*#__PURE__*/_jsxs(\"div\",{className:\"searchContainer\",children:[/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSearch,children:/*#__PURE__*/_jsxs(\"div\",{className:\"searchSection\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"search\",type:\"text\",placeholder:\"Search for tracks, artists, or album...\",name:\"search\",onChange:handleChange}),/*#__PURE__*/_jsx(\"button\",{className:\"searchBtn\",type:\"submit\",children:\"Search\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"results\",children:results.length>0?results.map(function(item,key){return/*#__PURE__*/_jsxs(\"div\",{className:\"result\"// style={{\n//   backgroundImage: `url(${item.artist.picture_xl})`,\n// }}\n,trackId:item.id,children:[/*#__PURE__*/_jsx(\"a\",{href:\"/track/\".concat(item.id),children:/*#__PURE__*/_jsx(\"img\",{src:item.album.cover_xl,onMouseOver:function onMouseOver(e){return e.currentTarget.src=item.artist.picture_xl;},onMouseOut:function onMouseOut(e){return e.currentTarget.src=item.album.cover_xl;},alt:\"\".concat(item.title,\" cover art\"),className:\"coverArt\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"title\",children:item.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"details\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Artist: \",item.artist.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Album: \",item.album.title]}),item.explicit_lyrics===true?/*#__PURE__*/_jsx(\"em\",{className:\"lyrics\",children:\"Lyrics: Explit\"}):/*#__PURE__*/_jsx(\"em\",{className:\"lyrics\",children:\"Lyrics: Clean\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"a\",{className:\"link\",href:item.link,children:\"View on Deezer\\xAE\"})})]})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"audio\",{className:\"audioPreview\",src:item.preview,controls:true,controlsList:\"nodownload noplaybackrate\",children:\"Your browser does not support the audio element.\"})]},item.id);}):/*#__PURE__*/_jsx(\"marquee\",{className:\"noSearch\",direction:\"down\",width:\"250\",height:\"200\",behavior:\"alternate\",children:/*#__PURE__*/_jsx(\"marquee\",{behavior:\"alternate\",children:\"Sound Off!\"})})})]});};export default Search;","map":{"version":3,"sources":["/Users/weas1/Desktop/sound-minds-auth/client/src/pages/Search/Search.js"],"names":["useState","Search","results","setResults","searchParam","setSearchParam","baseUrl","replace","handleChange","e","target","value","fetchData","length","fetch","method","mode","headers","then","res","json","data","catch","err","console","log","handleSearch","preventDefault","map","item","key","id","album","cover_xl","currentTarget","src","artist","picture_xl","title","name","explicit_lyrics","link","preview"],"mappings":"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","sourcesContent":["import \"./search.css\";\nimport { useState } from \"react\";\n\nconst Search = () => {\n  const [results, setResults] = useState([]);\n\n  const [searchParam, setSearchParam] = useState(\"\");\n\n  const baseUrl = `https://thingproxy.freeboard.io/fetch/https://api.deezer.com/search/?q=${searchParam.replace(\n    / /g,\n    \"%20\"\n  )}`;\n\n  const handleChange = (e) => {\n    setSearchParam(e.target.value);\n  };\n\n  const fetchData = () => {\n    if (searchParam.length === 0) {\n      setSearchParam(\"Drake\");\n    }\n    // console.log(baseUrl);\n    // `https://api.allorigins.win/get?url=${encodeURIComponent(baseUrl)}`);\n    return fetch(baseUrl, {\n      method: \"GET\",\n      mode: \"cors\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Access-Control-Allow-Origin\": \"https://localhost:3000\",\n        \"Cache-Control\": null,\n        \"X-Requested-With\": null,\n      },\n    })\n      .then((res) => res.json())\n      .then((data) => setResults(data.data))\n      .catch((err) => console.log(\"ERROR: \", err));\n  };\n\n  const handleSearch = (e) => {\n    e.preventDefault();\n    fetchData();\n  };\n\n  return (\n    <div className=\"searchContainer\">\n      <form onSubmit={handleSearch}>\n        <div className=\"searchSection\">\n          <input\n            id=\"search\"\n            type=\"text\"\n            placeholder=\"Search for tracks, artists, or album...\"\n            name=\"search\"\n            onChange={handleChange}\n          />\n          <button className=\"searchBtn\" type=\"submit\">\n            Search\n          </button>\n        </div>\n      </form>\n\n      <div className=\"results\">\n        {/* Search Results */}\n        {results.length > 0 ? (\n          results.map((item, key) => (\n            <div\n              key={item.id}\n              className=\"result\"\n              // style={{\n              //   backgroundImage: `url(${item.artist.picture_xl})`,\n              // }}\n              trackId={item.id}\n            >\n              <a href={`/track/${item.id}`}>\n                <img\n                  src={item.album.cover_xl}\n                  onMouseOver={(e) =>\n                    (e.currentTarget.src = item.artist.picture_xl)\n                  }\n                  onMouseOut={(e) =>\n                    (e.currentTarget.src = item.album.cover_xl)\n                  }\n                  alt={`${item.title} cover art`}\n                  className=\"coverArt\"\n                />\n              </a>\n              <div>\n                <h4 className=\"title\">{item.title}</h4>\n                <div className=\"details\">\n                  <p>Artist: {item.artist.name}</p>\n                  <p>Album: {item.album.title}</p>\n                  {item.explicit_lyrics === true ? (\n                    <em className=\"lyrics\">Lyrics: Explit</em>\n                  ) : (\n                    <em className=\"lyrics\">Lyrics: Clean</em>\n                  )}\n                  <br />\n\n                  <p>\n                    <a className=\"link\" href={item.link}>\n                      View on DeezerÂ®\n                    </a>\n                  </p>\n                </div>\n              </div>\n              <br />\n              <audio\n                className=\"audioPreview\"\n                src={item.preview}\n                controls\n                controlsList=\"nodownload noplaybackrate\"\n              >\n                Your browser does not support the audio element.\n              </audio>\n            </div>\n          ))\n        ) : (\n          <marquee\n            className=\"noSearch\"\n            direction=\"down\"\n            width=\"250\"\n            height=\"200\"\n            behavior=\"alternate\"\n          >\n            <marquee behavior=\"alternate\">Sound Off!</marquee>\n          </marquee>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}