{"ast":null,"code":"var _jsxFileName = \"/Users/weas1/Desktop/sound-minds-auth/client/src/pages/Login/Login.js\",\n    _s = $RefreshSig$();\n\nimport \"./login.css\";\nimport { useState, useContext } from \"react\";\nimport axios from \"axios\";\nimport UserContext from \"../../helpers/UserContext\";\nimport Colors from \"../../components/Colors/Colors\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst img = \"https://cdns.iconmonstr.com/wp-content/assets/preview/2017/240/iconmonstr-eye-9.png\";\n\nconst Login = () => {\n  _s();\n\n  document.title = `Log In`;\n  const [username, setUsername] = useState(\"\"); // eslint-disable-next-line\n\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [loginErr, setLoginErr] = useState(false);\n  const [passwordShown, setPasswordShown] = useState(false); // Password toggle handler\n\n  const togglePassword = () => {\n    setPasswordShown(!passwordShown);\n  };\n\n  const user = useContext(UserContext);\n\n  const loginUser = e => {\n    e.preventDefault();\n    const userData = {\n      email,\n      username,\n      password\n    };\n    axios.post(\"http://localhost:5000/api/login\", userData, {\n      \"Access-Control-Allow-Origin\": \"https://localhost:3000\",\n      withCredentials: true\n    }).then(response => {\n      user.setEmail(response.data.email);\n      user.setUsername(response.data.username); // user.setEmail(\"\");\n      // user.setUsername(\"\");\n\n      setLoginErr(false);\n      window.location = \"/profile\";\n    }).catch(() => {\n      setLoginErr(true);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"leftContainer\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"colors\",\n          children: /*#__PURE__*/_jsxDEV(Colors, {\n            className: \"colorPalete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"headerText\",\n          children: [\"SOUND\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this), \"MINDS\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"aboutText\",\n        children: \"Find new music, share new music and discuss it all right here. Keep track of all of your facorite songs in one place. Whether you're a fan of a tune or find it overrated, you're welcome to make your points, just be ready to defend them if neccessary.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"signupBar\",\n        children: \" Signup/ Login to continue\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"footerText\",\n        children: [\"created by Jacob Walton 2022\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), \"powered by DeezerAPI\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rightContainer\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"signupContainer\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"signupForm\",\n          action: \"\",\n          onSubmit: e => loginUser(e),\n          children: [loginErr && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"loginErr\",\n            children: \"Username or password is incorrect\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: username,\n            placeholder: \"Enter username...\",\n            onChange: e => setUsername(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: passwordShown ? \"text\" : \"password\",\n            value: password,\n            placeholder: \"password...\",\n            onChange: e => setPassword(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"visible\",\n            src: img,\n            id: \"eye\",\n            onClick: togglePassword,\n            alt: \"show password icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"submit\",\n            className: \"submit\",\n            value: \"Log In\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"redirect\",\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/\",\n              style: {\n                textDecoration: \"underline\"\n              },\n              children: [\"Don't have an account yet?\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 17\n              }, this), \"Sign up here!\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"G7Yx586bwshzdQPUfvlLnAPnjM4=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/weas1/Desktop/sound-minds-auth/client/src/pages/Login/Login.js"],"names":["useState","useContext","axios","UserContext","Colors","img","Login","document","title","username","setUsername","email","setEmail","password","setPassword","loginErr","setLoginErr","passwordShown","setPasswordShown","togglePassword","user","loginUser","e","preventDefault","userData","post","withCredentials","then","response","data","window","location","catch","target","value","textDecoration"],"mappings":"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","sourcesContent":["import \"./login.css\";\nimport { useState, useContext } from \"react\";\nimport axios from \"axios\";\nimport UserContext from \"../../helpers/UserContext\";\nimport Colors from \"../../components/Colors/Colors\";\nconst img =\n  \"https://cdns.iconmonstr.com/wp-content/assets/preview/2017/240/iconmonstr-eye-9.png\";\n\nconst Login = () => {\n  document.title = `Log In`;\n\n  const [username, setUsername] = useState(\"\");\n\n  // eslint-disable-next-line\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [loginErr, setLoginErr] = useState(false);\n\n  const [passwordShown, setPasswordShown] = useState(false);\n\n  // Password toggle handler\n  const togglePassword = () => {\n    setPasswordShown(!passwordShown);\n  };\n\n  const user = useContext(UserContext);\n\n  const loginUser = (e) => {\n    e.preventDefault();\n    const userData = { email, username, password };\n    axios\n      .post(\"http://localhost:5000/api/login\", userData, {\n        \"Access-Control-Allow-Origin\": \"https://localhost:3000\",\n        withCredentials: true,\n      })\n      .then((response) => {\n        user.setEmail(response.data.email);\n        user.setUsername(response.data.username);\n        // user.setEmail(\"\");\n        // user.setUsername(\"\");\n        setLoginErr(false);\n        window.location = \"/profile\";\n      })\n      .catch(() => {\n        setLoginErr(true);\n      });\n  };\n\n  return (\n    <div className=\"container\">\n      <div className=\"leftContainer\">\n        {/* Color palete */}\n        <div className=\"header\">\n          <div className=\"colors\">\n            <Colors className=\"colorPalete\" />\n          </div>\n\n          {/* Header */}\n          <h1 className=\"headerText\">\n            SOUND\n            <br />\n            MINDS\n          </h1>\n        </div>\n        <div className=\"aboutText\">\n          Find new music, share new music and discuss it all right here. Keep\n          track of all of your facorite songs in one place. Whether you're a fan\n          of a tune or find it overrated, you're welcome to make your points,\n          just be ready to defend them if neccessary.\n        </div>\n        {/* Sign up/ log in to continue */}\n        <div className=\"signupBar\"> Signup/ Login to continue</div>\n        {/* Footer text */}\n        <div className=\"footerText\">\n          created by Jacob Walton 2022\n          <br />\n          powered by DeezerAPI\n        </div>\n      </div>\n      <div className=\"rightContainer\">\n        {/* Signup container */}\n        <div className=\"signupContainer\">\n          <form className=\"signupForm\" action=\"\" onSubmit={(e) => loginUser(e)}>\n            {/* username */}\n            {loginErr && (\n              <p className=\"loginErr\">Username or password is incorrect</p>\n            )}\n            <input\n              type=\"text\"\n              value={username}\n              placeholder=\"Enter username...\"\n              onChange={(e) => setUsername(e.target.value)}\n            />\n\n            {/* password */}\n            <input\n              type={passwordShown ? \"text\" : \"password\"}\n              value={password}\n              placeholder=\"password...\"\n              onChange={(e) => setPassword(e.target.value)}\n            />\n            <img\n              className=\"visible\"\n              src={img}\n              id=\"eye\"\n              onClick={togglePassword}\n              alt=\"show password icon\"\n            />\n            <input type=\"submit\" className=\"submit\" value=\"Log In\" />\n\n            <div className=\"redirect\">\n              <a href=\"/\" style={{ textDecoration: \"underline\" }}>\n                Don't have an account yet?\n                <br />\n                Sign up here!\n              </a>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}